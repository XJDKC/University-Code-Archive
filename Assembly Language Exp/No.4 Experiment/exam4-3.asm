.386
STACK SEGMENT USE16 STACK
	DB 200 DUP(0)
STACK ENDS
;------------------------
DATA SEGMENT USE16
OFF DB 0,0,2,4,7,8,9
BIT DB 0,' ',':',':',' ','/','/'
DATA ENDS
;------------------------
CODE SEGMENT USE16
	ASSUME CS:CODE,DS:DATA,SS:STACK
OUT_INFO MACRO A
	MOV DL,A
	MOV AH,2
	INT 21H
ENDM
OUT_TIME MACRO A
	MOV AL,A
	OUT 70H,AL
	IN AL,71H
	MOV BL,AL
	MOV DL,BL
	SHR DL,4
	ADD DL,30H
	OUT_INFO DL
	MOV DL,BL
	AND DL,0FH
	ADD DL,30H
	OUT_INFO DL
ENDM
	
START:
	MOV AX,DATA
	MOV DS,AX

	MOV AH,1
	MOV CX,0100H
	INT 10H
TIME:
	MOV DX,0C1DH
	MOV AH,02H
	INT 10H
	
	MOV AH,01H
	INT 16H
	
	JNZ EXIT
	
	MOV ECX,6
LOOP1:
	OUT_TIME OFF[ECX]
	OUT_INFO BIT[ECX]
	LOOP LOOP1
	JMP TIME
	
EXIT:	
	MOV AH,4CH
	INT 21H
CODE ENDS
	END START